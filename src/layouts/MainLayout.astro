---
import "../styles/global.css";
import { ClientRouter } from 'astro:transitions';

interface Props {
  title: string;
}

const { title } = Astro.props;

const navItems = [
  { label: "Home", href: "/", active: Astro.url.pathname === "/" },
  { label: "Getting Started", href: "/docs/01-getting-started", active: Astro.url.pathname.includes("getting-started") },
  { label: "Lenin Theme", href: "/docs/02-lenin-theme", active: Astro.url.pathname.includes("lenin-theme") },
  { label: "Preheader Logic", href: "/docs/03-preheader-logic", active: Astro.url.pathname.includes("preheader-logic") },
];
---

<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="description" content="RCI Developer Hub" />
    <meta name="viewport" content="width=device-width" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="generator" content={Astro.generator} />
    <title>{title} | RCI Developer Hub</title>
    <ClientRouter />
  </head>
  <body class="bg-[#F8F9FA] text-gray-800 font-sans antialiased min-h-screen flex flex-col">
    
    <!-- Top Bar -->
    <header class="bg-white border-b border-[#E0E0E0] h-16 flex items-center px-6 fixed w-full top-0 z-50">
        <div class="font-condensed font-bold text-xl text-gray-900 flex items-center">
            <span class="text-rci-red mr-2">RCI</span> Developer Hub
        </div>
        <div class="ml-auto flex gap-4 text-sm font-medium text-gray-600">
            <a href="#" class="hover:text-rci-red transition-colors">Docs</a>
            <a href="#" class="hover:text-rci-red transition-colors">Support</a>
        </div>
    </header>

    <div class="flex pt-16 min-h-screen">
      <!-- Sidebar -->
      <aside class="w-[280px] fixed h-[calc(100vh-64px)] overflow-y-auto border-r border-[#E0E0E0] bg-[#F8F9FA] hidden md:block">
        <nav class="p-6 space-y-8">
            <div>
                <h5 class="text-xs font-bold text-gray-500 uppercase tracking-wider mb-4">Core</h5>
                <ul class="space-y-1">
                    {navItems.map((item) => (
                        <li>
                            <a 
                                href={item.href} 
                                class:list={[
                                    "block px-3 py-2 text-sm font-medium rounded-md transition-colors border-l-4",
                                    item.active 
                                        ? "border-rci-red bg-red-50 text-rci-red" 
                                        : "border-transparent text-gray-600 hover:text-gray-900 hover:bg-gray-50"
                                ]}
                            >
                                {item.label}
                            </a>
                        </li>
                    ))}
                </ul>
            </div>

            <div>
                 <h5 class="text-xs font-bold text-gray-500 uppercase tracking-wider mb-4">Resources</h5>
                 <ul class="space-y-1">
                    <li><a href="#" class="block px-3 py-2 text-sm font-medium text-gray-600 hover:text-gray-900 hover:bg-gray-50 rounded-md border-l-4 border-transparent">Figma Kit</a></li>
                    <li><a href="#" class="block px-3 py-2 text-sm font-medium text-gray-600 hover:text-gray-900 hover:bg-gray-50 rounded-md border-l-4 border-transparent">Icon Strings</a></li>
                 </ul>
            </div>
        </nav>
      </aside>

      <!-- Main Content -->
      <main class="flex-1 md:ml-[280px] p-8 max-w-5xl mx-auto w-full">
        <slot />
      </main>
    </div>
  </body>
</html>
